name = "blaze-intelligence-lsl"
compatibility_date = "2024-09-01"
pages_build_output_dir = "."

[env.production]
name = "blaze-intelligence-production"

[[env.production.r2_buckets]]
binding = "BLAZE_STORAGE"
bucket_name = "blaze-intelligence-data"

# R2 Storage bindings
[[r2_buckets]]
binding = "BLAZE_STORAGE"
bucket_name = "blaze-intelligence-data"

# Pages Functions configuration handled automatically

# Environment variables for production
[env.production.vars]
API_VERSION = "1.0.0"
CACHE_TTL = "300"

# Production configuration will be handled via Cloudflare dashboard

# Workers configuration for API
[worker]
name = "blaze-intelligence-api"
main = "src/worker/api-worker.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# KV Namespaces for caching
[[kv_namespaces]]
binding = "CACHE_KV"
id = "your_kv_namespace_id"
preview_id = "your_preview_kv_namespace_id"

# Routes for API worker
[[routes]]
pattern = "api.blaze-intelligence.com/*"
zone_name = "blaze-intelligence.com"

# Environment-specific variables
[vars]
ENVIRONMENT = "production"
API_VERSION = "1.0.0"
CACHE_TTL_SECONDS = "300"
ENABLE_CACHE = "true"
CORS_ORIGINS = "https://blaze-intelligence.com,https://blaze-intelligence.pages.dev"

# Secrets (set via: wrangler secret put SECRET_NAME)
# MLB_API_KEY
# NFL_API_KEY  
# CFB_API_KEY
# SENTRY_DSN